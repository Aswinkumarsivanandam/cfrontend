<div class="" *ngIf="ShowBulkDocumentUpload">
  <div class="">

    <div class="d-flex align-items-center">
      <div class="backbtnimg" style="float: left;" (click)="OnBulkUploadDocumentBack()"> <img class="backimg"
          src="../../assets/images/icons/back.svg"></div>


      <span class="request-date ml-3 justify-content-between"></span>

      <h3>Bulk Document Upload</h3>
    </div>

    <div class="bulkbtn">
      <button class="button mb-2" (click)="UploadDocuments()" id="modal_view_right" data-toggle="modal"
        data-target="#BulkDocumentUploadPopUp">Upload Documents</button>
    </div>




  </div>




  <div *ngIf="ShowDocumentBatchDetail">
    <div class="table-wrapper mt-4">
      <div *ngIf="DocumentBatches.length <= 0">No Bulk Documents</div>
      <table class="documents-table leadtable" *ngIf="DocumentBatches.length > 0">
        <thead>
          <tr>
            <th scope="col">Batch Name</th>
            <th scope="col">Total Files</th>
            <th scope="col">Status</th>
            <th scope="col">Created On</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of DocumentBatches">
            <td>{{item.batchName}}</td>
            <td>{{item.totalDocuments}}</td>
            <td>
              <span *ngIf="item.status == 1">Pending</span>
              <span *ngIf="item.status == 2">Pending</span>
              <span *ngIf="item.status == 3">Completed</span>
            </td>
            <td>{{item.createdOn | date}}</td>
            <td>
              <span id="investor_spdu_docbatch_edit_{{item.id}}" class="action-icon" (click)="onEditBatch(item)">
                <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" fill="#03260A">
                  <path d="M0 0h24v24H0V0z" fill="none" />
                  <path
                    d="M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z" />
                </svg>
              </span>
              <span id="investor_spdu_docbatch_delete_{{item.id}}" class="action-icon" (click)="onDeleteBatch(item)">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
                  <path d="M0 0h24v24H0V0z" fill="none" />
                  <path
                    d="M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z" />
                </svg>
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="" *ngIf="BulkUploadStepNavigation">
  <div class=" d-flex align-items-center pb-2">
    <div id="investor_busn_bulkdocupload" class="backbtnimg" (click)="OnBulkUploadStepNavigationBack()"> <img
        class="backimg" src="../../assets/images/icons/back.svg"></div>
    <span class="request-date ml-3 justify-content-between"></span>
    <h3>Bulk Document Upload</h3>
  </div>
  <div class="marketplace-deal-wrapper" *ngIf="BulkUploadStepNavigation">
    <div class="row justify-content-center">
      <div class="col-sm-9 p-0">
        <div class="card p-4 mt-4">
          <div class="card-content">
            <div class="form-wrapper" *ngIf="BulkUploadStepNavigation">
              <div class="step-nav d-flex justify-content-center">
                <div [ngClass]="{active: uploadFilesShow,done: uploadFilesDone}"
                  class="step-nav-item p-3 d-flex align-items-center flex-column">
                  <span class="step-indicator mb-2">
                    <span *ngIf="uploadFilesShow && !uploadFilesDone"
                      class="icon icon1step  icon-24 icon-current"></span>
                    <span *ngIf="!uploadFilesShow && !uploadFilesDone"
                      class="icon icon1step icon11step icon-24 icon-radio"></span>
                    <span *ngIf="uploadFilesDone" class="icon icon11step icon1step icon-24 icon-done"></span>
                  </span>
                  <span>Upload Files</span>
                </div>
                <div [ngClass]="{active: matchShow,done: matchDone}"
                  class="step-nav-item p-3 d-flex align-items-center flex-column">
                  <span class="step-indicator mb-2">
                    <span *ngIf="matchShow && !matchDone" class="icon  icon2step icon-24 icon-current"></span>
                    <span *ngIf="!matchShow && !matchDone" class="icon icon2step icon-24 icon-radio"></span>
                    <span *ngIf="matchDone" class="icon icon2step icon22step icon-24 icon-done"></span>
                  </span>
                  <span>Matching</span>

                </div>
                <div [ngClass]="{active: reviewShow,done: reviewDone}"
                  class="step-nav-item p-3 d-flex align-items-center flex-column">
                  <span class="step-indicator mb-2">
                    <span *ngIf="reviewShow && !reviewDone" class="icon  icon3step icon-24 icon-current"></span>
                    <span *ngIf="!reviewShow && !reviewDone" class="icon icon3step icon-24 icon-radio"></span>
                    <span *ngIf="reviewDone" class="icon icon3step icon33step icon-24 icon-done"></span>
                  </span>
                  <span>Review</span>
                </div>
                <div [ngClass]="{active: publishShow,done: publishDone}"
                  class="step-nav-item p-3 d-flex align-items-center flex-column">
                  <span class="step-indicator mb-2">
                    <span *ngIf="publishShow && !publishDone" class="icon  icon4step icon-24 icon-current"></span>
                    <span *ngIf="!publishShow && !publishDone" class="icon icon4step icon-24 icon-radio"></span>
                    <span *ngIf="publishDone" class="icon icon4step icon44step icon-24 icon-done"></span>
                  </span>
                  <span>Complete</span>
                </div>
              </div>
            </div>
            <div *ngIf="uploadFilesShow " class="mt-4">
              <div *ngIf="UploadFile">
                <div class=" d-flex align-items-center justify-content-between">
                  <div>
                    <h3>Upload Files in Batches</h3>
                    <br />
                    <div class="alert mt-3">
                      <span class="pr-2">
                        <svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 0 24 24" width="18px"
                          fill="#c8202f">
                          <path d="M0 0h24v24H0V0z" fill="none" />
                          <path
                            d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" />
                        </svg>
                      </span>
                      <span>You can upload up to 100 documents at a time. Documents will be automatically matched to
                        investor accounts based upon the profile name in the file name of the document.
                        Therefore, all of the files must share the same file naming convention.
                        You will review all matches in the next step before publishing.
                        <a target="_blank"
                          href="https://syndicationprohelp.freshdesk.com/support/solutions/articles/47001172139-how-to-bulk-upload-documents">Learn
                          More</a>
                      </span>
                    </div>
                    <br />
                    <table class="align-items-center formtable">
                      <tbody>
                        <tr>
                          <td>&nbsp;</td>
                        </tr>
                        <tr>
                          <td>
                            <div class="m-7 d-flex align-items-center">
                              <label for="">Batch Name: <span class="validation-msg">*</span>
                                <span class="request-date ml-3 justify-content-between"></span>
                              </label>
                              <div class="tooltip-wrapper tooltip-lg">
                                <div class="tooltip-toggle icon-only">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 18 18">
                                    <path d="M0,0H18V18H0Z" fill="none" />
                                    <path
                                      d="M8.3,5.5H9.7V6.9H8.3Zm0,2.8H9.7v4.2H8.3ZM9,2a7,7,0,1,0,7,7A7,7,0,0,0,9,2ZM9,14.6A5.6,5.6,0,1,1,14.6,9,5.607,5.607,0,0,1,9,14.6Z" />
                                  </svg>
                                </div>
                                <div class="tooltip-text">
                                  This is for your reference only, investors wonâ€™t see this
                                </div>
                              </div>
                            </div>
                          </td>
                          <td>
                            <span class="request-date ml-3 justify-content-between"></span>
                            <input id="investor_busn_batchname" disabled class="input-field" [(ngModel)]="batchName"
                              placeholder="Enter the Batch Name" (blur)="onBatchName()" type="text">
                            <div *ngIf="batchNameError" class="validation-msg">
                              <span class="request-date ml-3 justify-content-between"></span>
                              <span>Batch Name is required</span>
                            </div>
                          </td>
                        </tr>
                        <tr>
                          <td>&nbsp;</td>
                        </tr>
                        <tr>
                          <td>
                            <div class="m-7 d-flex align-items-center">
                              <label>Document Type: <span class="validation-msg">*</span></label>
                              <span class="request-date ml-3 justify-content-between"></span>
                              <span class="request-date ml-3 justify-content-between"></span>
                              <span class="request-date ml-3 justify-content-between"></span>
                            </div>
                          </td>
                          <td>
                            <span class="request-date ml-3 justify-content-between"></span>
                            <select disabled class="input-field" style="height:40px;" id="investor_busn_documenttypeid"
                              name="DocumentTypeId" (change)="onDocumentTypeChange($event)" [(ngModel)]="DocumentTypeId"
                              (blur)="onDocumentType()">
                              <option *ngFor="let item of DocumentTypes" [value]="item.id == 'null' ? '': item.id"
                                [selected]="item.id == DocumentTypeId">
                                {{ item.name }}
                              </option>
                            </select>
                            <div *ngIf="documentTypeError" class="validation-msg">
                              <span class="request-date ml-3 justify-content-between"></span>
                              <span>Document Type is required</span>
                            </div>
                          </td>
                        </tr>
                        <tr>
                          <td>&nbsp;</td>
                        </tr>
                        <tr>
                          <td>
                            <div class="m-7 d-flex align-items-center">
                              <label for="">Delimiter: <span class="validation-msg">*</span></label>
                              <span class="request-date ml-3 justify-content-between"></span>
                              <div class="tooltip-wrapper tooltip-lg">
                                <div class="tooltip-toggle icon-only">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 18 18">
                                    <path d="M0,0H18V18H0Z" fill="none" />
                                    <path
                                      d="M8.3,5.5H9.7V6.9H8.3Zm0,2.8H9.7v4.2H8.3ZM9,2a7,7,0,1,0,7,7A7,7,0,0,0,9,2ZM9,14.6A5.6,5.6,0,1,1,14.6,9,5.607,5.607,0,0,1,9,14.6Z" />
                                  </svg>
                                </div>
                                <div class="tooltip-text">
                                  If your file name is : K1 Tax Document_Mary Williams.pdf then the delimiter is
                                  Underscore (_)
                                </div>
                              </div>
                            </div>
                          </td>
                          <td>
                            <span class="request-date ml-3 justify-content-between"></span>
                            <select disabled class="input-field" style="height: 40px;"
                              id="investor_busn_namedelimiterid" name="NameDelimiterId"
                              (change)="onNameDelimiterChange($event)" [(ngModel)]="NameDelimiterId"
                              (blur)="onDelimiter()">
                              <option *ngFor="let item of NameDelimiters" [value]="item.id"
                                [selected]="item.id == NameDelimiterId">
                                {{ item.name }}
                              </option>
                            </select>
                            <div *ngIf="delimiterError" class="validation-msg">
                              <span class="request-date ml-3 justify-content-between"></span>
                              <span>Delimiter is required</span>
                            </div>
                          </td>
                        </tr>
                        <tr>
                          <td>&nbsp;</td>
                        </tr>
                        <tr>
                          <td>
                            <div class="m-7 d-flex align-items-center">
                              <label for="">Name Position: <span class="validation-msg">*</span></label>
                              <span class="request-date ml-3 justify-content-between"></span>
                              <div class="tooltip-wrapper tooltip-lg">
                                <div class="tooltip-toggle icon-only">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 18 18">
                                    <path d="M0,0H18V18H0Z" fill="none" />
                                    <path
                                      d="M8.3,5.5H9.7V6.9H8.3Zm0,2.8H9.7v4.2H8.3ZM9,2a7,7,0,1,0,7,7A7,7,0,0,0,9,2ZM9,14.6A5.6,5.6,0,1,1,14.6,9,5.607,5.607,0,0,1,9,14.6Z" />
                                  </svg>
                                </div>
                                <div class="tooltip-text">
                                  If your file name is: K1 Tax Document_Mary Williams.pdf then the Name Position is
                                  End of file name
                                </div>
                              </div>
                            </div>
                          </td>
                          <td>
                            <span class="request-date ml-3 justify-content-between"></span>
                            <select disabled class="input-field" style="height: 40px;" id="investor_busn_namepositionid"
                              name="NamePositionId" (change)="onNamePositionChange($event)" [(ngModel)]="NamePositionId"
                              (blur)="onNamePosition()">
                              <option *ngFor="let item of NamePositions" [value]="item.id"
                                [selected]="item.id == NamePositionId">
                                {{ item.name }}
                              </option>
                            </select>
                            <div *ngIf="namePositionError" class="validation-msg">
                              <span class="request-date ml-3 justify-content-between"></span>
                              <span>Name Position is required</span>
                            </div>
                          </td>
                        </tr>
                        <tr>
                          <td>&nbsp;</td>
                        </tr>
                        <tr>
                          <td>
                            <div class="m-7 d-flex align-items-center">
                              <label for="">Name Seperator: <span class="validation-msg">*</span></label>
                              <span class="request-date ml-3 justify-content-between"></span>
                              <div class="tooltip-wrapper tooltip-lg">
                                <div class="tooltip-toggle icon-only">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 18 18">
                                    <path d="M0,0H18V18H0Z" fill="none" />
                                    <path
                                      d="M8.3,5.5H9.7V6.9H8.3Zm0,2.8H9.7v4.2H8.3ZM9,2a7,7,0,1,0,7,7A7,7,0,0,0,9,2ZM9,14.6A5.6,5.6,0,1,1,14.6,9,5.607,5.607,0,0,1,9,14.6Z" />
                                  </svg>
                                </div>
                                <div class="tooltip-text">
                                  If your file name is: K1 Tax Document_Mary Williams.pdf then the Name Position is
                                  End of file name
                                </div>
                              </div>
                            </div>
                          </td>
                          <td>
                            <span class="request-date ml-3 justify-content-between"></span>
                            <select disabled class="input-field" style="height: 40px;"
                              id="investor_busn_nameseparatorid" name="NameSeparatorId"
                              (change)="onNameSeparatorChange($event)" [(ngModel)]="NameSeparatorId"
                              (blur)="onNameSeparator()">
                              <option *ngFor="let item of NameSeparators" [value]="item.id"
                                [selected]="item.id == NameSeparatorId">
                                {{ item.name }}
                              </option>
                            </select>
                            <div *ngIf="nameSeparatorError" class="validation-msg">
                              <span class="request-date ml-3 justify-content-between"></span>
                              <span>Name Seperator is required</span>
                            </div>
                            <div *ngIf="delimiterSeparatorError" class="validation-msg">
                              <span class="request-date ml-3 justify-content-between"></span>
                              <span>Name Seperator should not be same as Delimiter</span>
                            </div>
                          </td>
                        </tr>
                        <tr>
                          <td>&nbsp;</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div>
                  <div id="investor_busn_dragfile" class="dropzone dragfile" appDrag (files)="onFileChange($event)">
                    <div class="align-items-center">
                      <span class="request-date ml-3 justify-content-between"></span>
                      <span class="request-date ml-3 justify-content-between"></span>
                      <input type="file" class="sr-only" name="file" id="investor_busn_dragfile"
                        (change)="onFileChange1($event)" multiple>
                      <label class="align-items-center" for="file">Drag & drop files here or click to select
                        files</label>
                      <span class="request-date ml-3 justify-content-between"></span>
                      <span class="request-date ml-3 justify-content-between"></span>
                    </div>
                  </div>

                  <div *ngFor="let item of DocumentFile; let i = index">
                    <div class="row justify-content-center mt-3">

                      <div class="col-md-8">
                        <div class="row">
                          <div class="col-md-10">{{item.File.name}}</div>

                          <div class="col">
                            <span id="investor_busn_docremove_{{item.Id}}" class="action-icon"
                              (click)="OnRemoveREviewDoc(item.Id)">
                              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"
                                fill="#000000">
                                <path d="M0 0h24v24H0V0z" fill="none" />
                                <path
                                  d="M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z" />
                              </svg>
                            </span>
                          </div>

                        </div>
                      </div>

                    </div>
                  </div>
                  <div class="validation-msg" *ngIf="DocumentFile.length > 100">
                    The current documents count exceed the limit of 100 documents, please ensure that the total
                    document count is
                    not more than 10 (Current: {{DocumentFile.length}}).
                  </div>
                  <div class="validation-msg" *ngIf="DocSizeBool">
                    The following documents exceeds the file size limit of 100MB, please ensure that the document size
                    is not
                    beyond 100 MB.
                  </div>
                  <div class=" modal-footer text-center mt-5">
                    <button id="investor_busn_upload" class="button-outline" (click)="onSaveandUpload()">Upload</button>
                  </div>
                </div>
              </div>
            </div>
            <div *ngIf="matchShow">
              <div class="tab-menu mb-4">
                <div class="deal-content">
                  <div class="deal-highlight-content d-flex justify-content-between">
                    <div class="highlights pt-0 ">
                      <h3>Total Files</h3>
                      <p>{{TotalDocuments}}</p>
                    </div>
                    <div class="highlights pt-0">
                      <h3>Matched Files</h3>
                      <p>{{TotalMatched}}</p>
                    </div>
                    <div class="highlights pt-0">
                      <h3>UnMatched Files</h3>
                      <p>{{TotalUnmatched}}</p>
                    </div>
                  </div>
                </div>
              </div>
              <div class=" modal-footer text-center mt-5">
                <button id="investor_ms_continuetoreview" class="button-outline" (click)="onReviewDocuments()">Continue
                  to Review</button>
              </div>
            </div>
            <div *ngIf="reviewShow">
              <div class="table-wrapper mt-4">
                <div *ngIf="MatchedDocuments.length <= 0">No Matched Documents</div>
                <table class="documents-table" [(ngModel)]="MatchedDocuments" *ngIf="MatchedDocuments.length > 0">
                  <thead>
                    <tr>
                      <th scope="col">File Name</th>
                      <th scope="col">Status</th>
                      <th scope="col">Investor Name</th>
                      <th scope="col">Profile Name</th>
                      <th scope="col">Document Type</th>
                      <th scope="col">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of MatchedDocuments">
                      <td>{{item.documentName}}</td>
                      <td>{{item.matchedBy}}</td>
                      <td>
                        <div *ngIf="item.isMatchfound == true">
                          {{ item.investorName }}
                        </div>
                        <div *ngIf="item.isMatchfound == false">
                          <select class="input-field" style="height: 40px;" id="investor_rs_documentuser_{{item.id}}"
                            name="DocumentUserId" (change)="onDocumentUserChange(item.userId)"
                            [(ngModel)]="item.userId">
                            <option *ngFor="let investor of InvestorDetails" [value]="investor.id"
                              onchange="onDocumentUserChange(investeor.id)" [selected]="investor.id == item.userId">
                              {{ investor.fullName }}
                            </option>
                          </select>
                        </div>
                      </td>
                      <td>
                        <div *ngIf="item.isMatchfound == true">
                          <select class="input-field" style="height: 40px;"
                            id="investor_rs_documentprofile_true_{{item.id}}" name="DocumentProfileId"
                            (change)="onDocumentProfileChange(item.profileId)" [(ngModel)]="item.profileId">
                            <option *ngFor="let profile of item.userProfiles" [value]="profile.id"
                              [selected]="profile.id == item.profileId">
                              {{ profile.profileName }}
                            </option>
                          </select>
                        </div>
                        <div *ngIf="item.isMatchfound == false">
                          <select class="input-field" style="height: 40px;"
                            id="investor_rs_documentprofile_false_{{item.id}}" name="DocumentProfileId"
                            (change)="onDocumentProfileChange(item.profileId)" [(ngModel)]="item.profileId">
                            <option *ngFor="let profile of DocumentProfiles" [value]="profile.id"
                              [selected]="profile.isOwner == true">
                              {{ profile.profileName }}
                            </option>
                          </select>
                        </div>
                      </td>
                      <td>
                        <span *ngIf="item.documentType == 1">Tax Documents</span>
                        <span *ngIf="item.documentType == 2">Subscriptions</span>
                        <span *ngIf="item.documentType == 3">Accreditation</span>
                        <span *ngIf="item.documentType == 4">Offering Documents</span>
                        <span *ngIf="item.documentType == 5">Miscellaneous</span>
                        <span *ngIf="item.documentType == 6">Updates</span>
                      </td>
                      <td>
                        <span id="investor_rs_editdocument_{{item.id}}" class="action-icon"
                          (click)="onEditDocument(item)">
                          <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"
                            fill="#03260A">
                            <path d="M0 0h24v24H0V0z" fill="none" />
                            <path
                              d="M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z" />
                          </svg>
                        </span>
                        <span id="investor_rs_downloadfile_{{item.id}}" class="action-icon"
                          (click)="onReviewDownloadFile(item)">
                          <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                            <path d="M0 0h24v24H0V0z" fill="none" />
                            <path d="M13 5v6h1.17L12 13.17 9.83 11H11V5h2m2-2H9v6H5l7 7 7-7h-4V3zm4 15H5v2h14v-2z" />
                          </svg> </span>
                        <span id="investor_rs_viewdocument_{{item.id}}" class="action-icon"
                          (click)="onViewReviewFile(item)">
                          <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                            <path d="M0 0h24v24H0V0z" fill="none" />
                            <path
                              d="M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z" />
                          </svg>
                        </span>
                        <!-- <span id="investor_rs_deletedocument_{{item.id}}" class="action-icon" (click)="onDeleteDocument(item)">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"
                              fill="#000000">
                              <path d="M0 0h24v24H0V0z" fill="none" />
                              <path
                                d="M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z" />
                            </svg>
                          </span> -->
                        <span id="investor_rs_deletedocument_{{item.id}}" class="action-icon"
                          (click)="onDeleteReviewDocument(item)">
                          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"
                            fill="#000000">
                            <path d="M0 0h24v24H0V0z" fill="none" />
                            <path
                              d="M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z" />
                          </svg>
                        </span>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="modal-footer text-center mt-5">
                  <div class="alert mt-3">
                    <span class="pr-2">
                      <svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 0 24 24" width="18px"
                        fill="#c8202f">
                        <path d="M0 0h24v24H0V0z" fill="none" />
                        <path
                          d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" />
                      </svg>
                    </span>
                    <span>
                      Note: Un-macthed documents will be excluded in the publish process.
                    </span>
                  </div>
                  <br />
                  <button id="investor_rs_publish" class="button-outline"
                    (click)="onPublishDocuments(MatchedDocuments)">Publish</button>
                </div>
              </div>
            </div>
            <div *ngIf="publishShow">
              <div class="table-wrapper mt-4">
                <div *ngIf="FinalMatchedDocuments.length <= 0">No Published Documents</div>
                <table class="documents-table" [(ngModel)]="FinalMatchedDocuments"
                  *ngIf="FinalMatchedDocuments.length > 0">
                  <thead>
                    <tr>
                      <th scope="col">File Name</th>
                      <th scope="col">Status</th>
                      <th scope="col">Investor Name</th>
                      <th scope="col">Profile Name</th>
                      <th scope="col">Document Type</th>
                      <th scope="col">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of FinalMatchedDocuments">
                      <td>{{item.documentName}}</td>
                      <td><span>Published</span></td>
                      <td>
                        <div>
                          {{ item.investorName }}
                        </div>
                      </td>
                      <td>
                        <div>
                          <div>
                            {{ item.profileName }}
                          </div>
                        </div>
                      </td>
                      <td>
                        <span *ngIf="item.type == 1">Tax Documents</span>
                        <span *ngIf="item.type == 2">Subscriptions</span>
                        <span *ngIf="item.type == 3">Accreditation</span>
                        <span *ngIf="item.type == 4">Offering Documents</span>
                        <span *ngIf="item.type == 5">Miscellaneous</span>
                        <span *ngIf="item.type == 6">Updates</span>
                      </td>
                      <td>
                        <span id="investor_ps_downloadfile_{{item.id}}" class="action-icon"
                          (click)="onDownloadFile(item,'BulkDoc')">
                          <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                            <path d="M0 0h24v24H0V0z" fill="none" />
                            <path d="M13 5v6h1.17L12 13.17 9.83 11H11V5h2m2-2H9v6H5l7 7 7-7h-4V3zm4 15H5v2h14v-2z" />
                          </svg> </span>
                        <app-view-document id="investor_ps_viewdocument_" [DocumentData]="item"></app-view-document>
                        <span id="investor_ps_deletedocument_{{item.id}}" class="action-icon"
                          (click)="onDeleteDocument(item)">
                          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"
                            fill="#000000">
                            <path d="M0 0h24v24H0V0z" fill="none" />
                            <path
                              d="M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z" />
                          </svg>
                        </span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="" *ngIf="!ShowBulkDocumentUpload && !BulkUploadStepNavigation">




  <div class="container-fluid mb-4">

    <div class="row" *ngIf="InvestorsHeaderSummary != null">

      <div class="col pl-0">

        <div class="leasereport lead4">
          <div class="leaseheadtxt">Total Investors</div>


          <img src="../../assets/images/invest1.png" class="leaseimg">
          <div class="leaseptxt">{{InvestorsHeaderSummary?.totalInvestors | currency:'USD' : 'symbol' : '1.0-0'}}</div>
        </div>

      </div>


      <div class="col pl-0">
        <div class="leasereport lead1">
          <div class="leaseheadtxt">Total Approved Amount</div>


          <img src="../../assets/images/invest2.png" class="leaseimg">
          <div class="leaseptxt">{{InvestorsHeaderSummary?.totalApprovedAmount | currency:'USD' : 'symbol' : '1.0-0'}}
          </div>
        </div>

      </div>

      <div class="col pl-0">


        <div class="leasereport lead2">
          <div class="leaseheadtxt">Total Investments</div>


          <img src="../../assets/images/invest3.png" class="leaseimg">
          <div class="leaseptxt">{{InvestorsHeaderSummary?.totalInvestments | currency:'USD' : 'symbol' : '1.0-0'}}
          </div>
        </div>

      </div>

      <div class="col  pl-0">


        <div class="leasereport invest4">
          <div class="leaseheadtxt">Average Investment</div>


          <img src="../../assets/images/invest4.png" class="leaseimg">
          <div class="leaseptxt">{{InvestorsHeaderSummary?.averageInvestment | currency:'USD' : 'symbol' : '1.0-0'}}
          </div>
        </div>

      </div>


      <div class="col pl-0 pr-0">

        <div class="leasereport lead1 invest5">
          <div class="leaseheadtxt">Total Reserved</div>


          <img src="../../assets/images/reserved.png" class="leaseimg">
          <div class="leaseptxt">{{InvestorsHeaderSummary?.totalReserved | currency:'USD' : 'symbol' : '1.0-0'}}</div>
        </div>


      </div>


    </div>
  </div>




  <div class="d-flex align-items-center justify-content-between pb-2">
    <div>
      <h3>Investors</h3>
    </div>
    <div>
      <button type="button" class="button-outline" (click)="bulkDocumentUpload()">Bulk Document Upload</button>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col">
      <div class="table-wrapper mt-0 leadtable pl-3 pr-3">
        <div class="table-actions  pl-3 pr-3">
          <div class="d-flex justify-content-between pt-3">
            <div class="row mt-2">
              <div class="col d-flex align-items-center pl-0">
                <div class="mr-2 mb-3">
                  <label for="" class="mr-2"> Show:</label>
                  <select name="" id="investor_ondataperpageshow" style="width:100px"
                    (change)="onChooseDataPerPage($event)">
                    <option value="0" selected>Select</option>
                    <option value="25">25</option>
                    <option value="50">50</option>
                    <option value="75">75</option>
                    <option value="100">100</option>
                  </select>
                </div>
                <div class="mr-2 mb-3">
                  <label for="" class="mr-2"> Tags:</label>
                  <select name="" id="investor_onchoosetags" style="width:130px" (change)="onChooseTags($event)">
                    <option *ngFor="let item of TagDetails" [value]="item.id == 'null' ? '': item.id"
                      [selected]="item.id == TagDetailsId">
                      {{ item.name }}
                    </option>
                  </select>
                </div>
              </div>
            </div>

            <div class="d-flex justify-content-between pt-2">
              <div>
                <button id="investor_addtag" type="button" class="button-outline mr-3" (click)="onAddTag()"
                  [disabled]="ChooseBool" data-toggle="modal" data-target="#AddTagPopup">Add
                  Tag</button>
              </div>
              <div>
                <button id="investor_sendemail" type="button" class="button-outline mr-3" (click)="SentEmail()"
                  data-toggle="modal" data-target="#showSendEmail" [disabled]="ChooseBool">Send
                  Email</button>
              </div>
              <div>
                <button id="investor_accountstatement" type="button" class="button-outline" [disabled]="ChooseBool"
                  (click)="onAccountStatement()" data-toggle="modal" data-target="#AccountStatementPopup">Account
                  Statement</button>
              </div>
            </div>


            <div>
              <input id="investor_filterlead" type="text" class="input-field deal-search" placeholder="Search"
                (input)="FilterLead($event)">
            </div>
          </div>


        </div>
        <div *ngIf="InvestorDetails.length == 0">No Investors Yet...</div>
        <table class="documents-table" *ngIf="InvestorDetails.length > 0">
          <thead>
            <tr>
              <th>
                <input id="investor_check_selectall" type="checkbox" (change)="SelectAll($event)"
                  [(ngModel)]="SelectAllCheckbox">
              </th>
              <th scope="col" [appSort]="InvestorDetails" data-order="desc" data-name="fullName">Name</th>
              <th scope="col" [appSort]="InvestorDetails" data-order="desc" data-name="totalInvestments">Investments
              </th>
              <th scope="col" [appSort]="InvestorDetails" data-order="desc" data-name="totalAmount">Amount</th>
              <th scope="col" [appSort]="InvestorDetails" data-order="desc" data-name="capacity">Investment Capacity
              </th>
              <th scope="col">Self Acc</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of InvestorDetails  | paginate: config">
              <td style="width: 40px;">
                <input id="investor_check_select" type="checkbox" (change)="Select(item,$event)"
                  [checked]="item.selected">
              </td>
              <td style="cursor: pointer;"><b><a id="investor_fullname_viewdetails_{{item.id}}"
                    (click)="ViewDetails(item)">{{item.fullName}}</a></b><br>{{item.emailId}}<br>{{item.phoneNumber}}<br>
                <div>
              <td *ngFor="let tag of item.tags">
                <li type="button" class="btn btn-outline-secondary btn-sm" (click)="onTags(tag)" data-toggle="modal"
                  data-target="#TagDetailsViewPopup">{{tag.name}}</li>
              </td>
      </div>
      </td>
      <td>{{item.totalInvestments}}</td>
      <td>{{item.totalAmount}}</td>
      <td>{{LookingInvest[item.capacity].value}}</td>
      <td *ngIf="item.isAccreditedInvestor == true">Yes</td>
      <td *ngIf="item.isAccreditedInvestor == false">No</td>
      <td *ngIf="item.isAccreditedInvestor == null"></td>
      <td>
        <app-email-details [EmailData]="item.id"></app-email-details>
        <span id="investor_viewdetails_{{item.id}}" class="action-icon" (click)="ViewDetails(item)">
          <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0V0z" fill="none" />
            <path
              d="M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z" />
          </svg>
        </span>
        <span id="investor_notes_{{item.id}}" class="action-icon" (click)="onNotes(item)" data-toggle="modal"
          data-target="#NotePopup"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24"
            width="24px" fill="#000000">
            <path d="M0 0h24v24H0V0z" fill="none" />
            <path
              d="M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z" />
          </svg></span>
      </td>
      </tr>
      </tbody>
      </table>
      <pagination-controls *ngIf="InvestorDetails.length > 0" (pageChange)="pageChanged($event)">
      </pagination-controls>
    </div>
  </div>
</div>










</div>







<div class="modal modal_outer right_modal fade" id="AddTagPopup" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel2" *ngIf="AddTagPopup">
  <div class="modal-dialog" role="document">

    <div class="modal-content ">
      <!-- <input type="hidden" name="email_e" value="admin@filmscafe.in"> -->
      <div class="modal-header">


        <h3>Add Tag</h3>

        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>



      </div>
      <div class="modal-body get_quote_view_modal_body">
        <div class="pt-3">
          <div>
            <label>Create a new tag</label>
            <input type="text" id="browser" class="input-field" [(ngModel)]="TagName">
            <button class="button-outline" (click)="onCreateTag()">save</button>
          </div>
          <h3>OR</h3>
          <label>Select an existing tag</label>
          <!-- <input list="browsers" id="browser" class="input-field" [(ngModel)]="TagName">
                    <datalist id="browsers">
        <select name="" id="">
          <option *ngFor="let item of TagDetails" [selected]="item.id == TagDetailsId">
            <span *ngIf="item.id != 0">{{ item.name }}</span>
          </option>
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
            <path d="M0 0h24v24H0V0z" fill="none" />
            <path
              d="M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z" />
          </svg>
        </select>
      </datalist>-->

          <ng-multiselect-dropdown id='investor_onchoosetags' [placeholder]="'Select Tags'"
            [settings]="dropdownSettings" [(ngModel)]="Tagdetail" [disabled]="disabled" [data]="TagDetails1"
            name="Preferredindustry" (onSelect)="onItemSelect($event)">
          </ng-multiselect-dropdown>
        </div>

        <div class="modal-footer text-center mt-5">
          <button type="button" class="button mr-3" (click)="clearSelection()"
            data-dismiss="modal"><span>Cancel</span></button>
          <button class="button-outline" (click)="onSaveTag()" data-dismiss="modal">Save</button>
        </div>



      </div>

    </div>
    <!-- modal-content -->

  </div>
  <!-- modal-dialog -->
</div>
<!-- modal -->






<div class="modal modal_outer right_modal fade" id="NotePopup" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel2" *ngIf="NotePopup">
  <div class="modal-dialog" role="document">

    <div class="modal-content ">
      <!-- <input type="hidden" name="email_e" value="admin@filmscafe.in"> -->
      <div class="modal-header">

        <h3>Add Notes</h3>

        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>



      </div>
      <div class="modal-body get_quote_view_modal_body">

        <table class="documents-table" *ngIf="TableView">
          <thead>
            <tr>
              <th>Notes</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of InvestorData">
              <td>{{item.notes}}</td>
              <td>
                <span class="action-icon" (click)="EditNote(item)">
                  <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" fill="#03260A">
                    <path d="M0 0h24v24H0V0z" fill="none" />
                    <path
                      d="M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z" />
                  </svg>
                </span>
                <span class="action-icon" (click)="DeleteNote(item)">
                  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
                    <path d="M0 0h24v24H0V0z" fill="none" />
                    <path
                      d="M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z" />
                  </svg>
                </span>
              </td>
            </tr>
          </tbody>
        </table>
        <div *ngIf="WriteNoteBool" class="mt-3 text-center">
          <textarea [(ngModel)]="InvestorNotes" class="input-field" rows="2" placeholder="Write a note here"></textarea>
          <button class="button mr-3" (click)="OnCancel()">Cancel</button>
          <button class="button-outline mr-3" *ngIf="!EditBool" (click)="NoteSave()">Save</button>
          <button class="button-outline" *ngIf="EditBool" (click)="NoteSave()">Update</button>
        </div>
        <div class="modal-content pt-3" style="max-height: 400px;overflow:auto;"
          *ngIf="InvestorData.length == 0 && InvestorEmpty">
          No Notes Avalible!
        </div>
        <div class="modal-footer text-center mt-5">
          <button class="button-outline mr-3" (click)="onWriteANote()">Write a note</button>
        </div>


      </div>

    </div>
    <!-- modal-content -->

  </div>
  <!-- modal-dialog -->
</div>
<!-- modal -->

<!------------------Review document view--------------------------->

<div class="modal modal_outer right_modal fade" id="ReviewDocumentViewPopup" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel2" *ngIf="ReviewDocumentViewPopup">
  <div class="modal-dialog" role="document">

    <div class="modal-content ">

      <div class="modal-header">
        <h3>View Document</h3>

        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>



      </div>
      <div class="modal-body get_quote_view_modal_body">


        <pdf-viewer [src]="pdfUrl" [render-text]="true"></pdf-viewer>

      </div>

    </div>
    <!-- modal-content -->

  </div>
  <!-- modal-dialog -->
</div>
<!-- modal -->

<!-- ----------------------------------Tag Details ----------------- -->
<div class="modal modal_outer right_modal fade" id="TagDetailsViewPopup" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel2" *ngIf="TagDetailsViewPopup">
  <div class="modal-dialog" role="document">

    <div class="modal-content ">

      <div class="modal-header">
        <h3>Tag Details</h3>
        <button class="btn btn-outline-danger" class="action-icon" (click)="DeleteMultiTagPopup(TagId)"
          data-toggle="modal" data-target="#DeleteTagInvestorsPopup">Delete {{this.TagName}}</button>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>



      </div>
      <div class="modal-body get_quote_view_modal_body">

        <div *ngIf="TagInvestors.length == 0">No Investors Yet...</div>
        <table class="documents-table" *ngIf="TagInvestors.length > 0">
          <thead>
            <tr>
              <th scope="col">Name</th>
              <th scope="col">Email</th>
              <th scope="col">Role</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of TagInvestors">
              <td>{{item.firstName}}</td>
              <td>{{item.emailId}}</td>
              <td *ngIf="item.roleId == 2">Lead</td>
              <td *ngIf="item.roleId == 1">Investor</td>
              <td>
                <span id="investor_deletetagdetails_{{item.userid}}" class="action-icon" (click)="DeleteTagPopup(item)"
                  data-toggle="modal" data-target="#DeleteTagInvestorsPopup">
                  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
                    <path d="M0 0h24v24H0V0z" fill="none" />
                    <path
                      d="M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z" />
                  </svg>
                </span>
              </td>
            </tr>
          </tbody>
        </table>

      </div>

    </div>
    <!-- modal-content -->

  </div>
  <!-- modal-dialog -->
</div>
<!-- modal -->



<!------------------------------------------- -->
<div class="modal modal_outer right_modal fade" id="DeleteTagInvestorsPopup" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel2" *ngIf="DeleteTagInvestorsPopup">
  <div class="modal-dialog" role="document">

    <div class="modal-content ">
      <div class="modal-header">
        <h3>Delete Tag</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body get_quote_view_modal_body">
        <div> Are you sure you want to delete?</div>
        <div class="modal-footer">
          <button id="investor_tagdetailsdeleteshow_yes" class="button-outline mr-3" (click)="DeleteTagInvstors()"
            *ngIf="TagDeleteButton" data-dismiss="modal">Yes</button>
          <button id="investor_tagdetailsdeleteshow_yes" class="button-outline mr-3" (click)="DeleteMultiTagInvstors()"
            *ngIf="MultiTagDeleteButton" data-dismiss="modal">Yes</button>
          <button id="investor_tagdetailsdeleteshow_no" type="button" class="button"
            (click)="DeleteTagInvestorsPopup=false" data-dismiss="modal">
            <span>No</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- modal -->


<div class="modal modal_outer right_modal fade" id="BulkDocumentUploadPopUp" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel2" *ngIf="BulkDocumentUploadPopUp">
  <div class="modal-dialog bulkdocdialog" role="document">

    <div class="modal-content ">

      <div class="modal-header">
        <h3>Bulk Document Upload</h3>

        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>

      </div>
      <div class="modal-body get_quote_view_modal_body">

        <div class="success mt-3">
          <span class="pr-2">
            <svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 0 24 24" width="18px" fill="#28a745">
              <path d="M0 0h24v24H0V0z" fill="none" />
              <path
                d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" />
            </svg>
          </span>
          <span>You can upload up to 100 documents at a time. Documents will be automatically matched to
            investor accounts based upon the email-Id and profile name in the file name of the document.
            Therefore, all of the files must share the same file naming convention.
            You will review all matches in the next step before publishing.
            <a target="_blank"
              href="https://syndicationprohelp.freshdesk.com/support/solutions/articles/47001172139-how-to-bulk-upload-documents">Learn
              More</a>
          </span>

        </div>
        <br />
        <table class="align-items-center formtable">
          <tbody>
            <tr>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td>
                <div class="m-7 d-flex align-items-center">
                  <label for="">Batch Name: <span class="validation-msg">*</span>
                    <span class="request-date ml-3 justify-content-between"></span>
                  </label>
                  <div class="tooltip-wrapper tooltip-lg">
                    <div class="tooltip-toggle icon-only">
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 18 18">
                        <path d="M0,0H18V18H0Z" fill="none" />
                        <path
                          d="M8.3,5.5H9.7V6.9H8.3Zm0,2.8H9.7v4.2H8.3ZM9,2a7,7,0,1,0,7,7A7,7,0,0,0,9,2ZM9,14.6A5.6,5.6,0,1,1,14.6,9,5.607,5.607,0,0,1,9,14.6Z" />
                      </svg>
                    </div>
                    <div class="tooltip-text">
                      This is for your reference only, investors wonâ€™t see this
                    </div>
                  </div>
                </div>
              </td>
              <td>
                <span class="request-date ml-3 justify-content-between"></span>
                <input class="input-field" [(ngModel)]="batchName" placeholder="Enter the Batch Name"
                  (blur)="onBatchName()" type="text">
                <div *ngIf="batchNameError" class="validation-msg formvalidate">
                  <span class="request-date ml-3 justify-content-between"></span>
                  <span>Batch Name is required</span>
                </div>
              </td>
            </tr>

            <tr>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td>
                <div class="m-7 d-flex align-items-center">
                  <label>Document Type: <span class="validation-msg">*</span></label>
                  <span class="request-date ml-3 justify-content-between"></span>
                  <span class="request-date ml-3 justify-content-between"></span>
                  <span class="request-date ml-3 justify-content-between"></span>
                </div>
              </td>
              <td>
                <span class="request-date ml-3 justify-content-between"></span>
                <select class="input-field" style="height:40px;" id="DocumentTypeId" name="DocumentTypeId"
                  (change)="onDocumentTypeChange($event)" [(ngModel)]="DocumentTypeId" (blur)="onDocumentType()">
                  <option *ngFor="let item of DocumentTypes" [value]="item.id == 'null' ? '': item.id"
                    [selected]="item.id == DocumentTypeId">
                    {{ item.name }}
                  </option>
                </select>
                <div *ngIf="documentTypeError" class="validation-msg formvalidate">
                  <span class="request-date ml-3 justify-content-between"></span>
                  <span>Document Type is required</span>
                </div>
              </td>
            </tr>
            <tr>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td>
                <div class="m-7 d-flex align-items-center">
                  <label for="">Delimiter: <span class="validation-msg">*</span></label>
                  <span class="request-date ml-3 justify-content-between"></span>
                  <div class="tooltip-wrapper tooltip-lg">
                    <div class="tooltip-toggle icon-only">
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 18 18">
                        <path d="M0,0H18V18H0Z" fill="none" />
                        <path
                          d="M8.3,5.5H9.7V6.9H8.3Zm0,2.8H9.7v4.2H8.3ZM9,2a7,7,0,1,0,7,7A7,7,0,0,0,9,2ZM9,14.6A5.6,5.6,0,1,1,14.6,9,5.607,5.607,0,0,1,9,14.6Z" />
                      </svg>
                    </div>
                    <div class="tooltip-text">
                      If your file name is : K1 Tax Document_Mary Williams.pdf then the delimiter is Underscore (_)
                    </div>
                  </div>
                </div>
              </td>
              <td>
                <span class="request-date ml-3 justify-content-between"></span>
                <select class="input-field" style="height: 40px;" id="NameDelimiterId" name="NameDelimiterId"
                  (change)="onNameDelimiterChange($event)" [(ngModel)]="NameDelimiterId" (blur)="onDelimiter()">
                  <option *ngFor="let item of NameDelimiters" [value]="item.id" [selected]="item.id == NameDelimiterId">
                    {{ item.name }}
                  </option>
                </select>
                <div *ngIf="delimiterError" class="validation-msg formvalidate">
                  <span class="request-date ml-3 justify-content-between"></span>
                  <span>Delimiter is required</span>
                </div>
              </td>
            </tr>
            <tr>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td>
                <div class="m-7 d-flex align-items-center">
                  <label for="">Name Position: <span class="validation-msg">*</span></label>
                  <span class="request-date ml-3 justify-content-between"></span>
                  <div class="tooltip-wrapper tooltip-lg">
                    <div class="tooltip-toggle icon-only">
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 18 18">
                        <path d="M0,0H18V18H0Z" fill="none" />
                        <path
                          d="M8.3,5.5H9.7V6.9H8.3Zm0,2.8H9.7v4.2H8.3ZM9,2a7,7,0,1,0,7,7A7,7,0,0,0,9,2ZM9,14.6A5.6,5.6,0,1,1,14.6,9,5.607,5.607,0,0,1,9,14.6Z" />
                      </svg>
                    </div>
                    <div class="tooltip-text">
                      If your file name is: K1 Tax Document_Mary Williams.pdf then the Name Position is End of file name
                    </div>
                  </div>
                </div>
              </td>
              <td>
                <span class="request-date ml-3 justify-content-between"></span>
                <select class="input-field" style="height: 40px;" id="NamePositionId" name="NamePositionId"
                  (change)="onNamePositionChange($event)" [(ngModel)]="NamePositionId" (blur)="onNamePosition()">
                  <option *ngFor="let item of NamePositions" [value]="item.id" [selected]="item.id == NamePositionId">
                    {{ item.name }}
                  </option>
                </select>
                <div *ngIf="namePositionError" class="validation-msg formvalidate">
                  <span class="request-date ml-3 justify-content-between"></span>
                  <span>Name Position is required</span>
                </div>
              </td>
            </tr>
            <tr>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td>
                <div class="m-7 d-flex align-items-center">
                  <label for="">Name Seperator: <span class="validation-msg">*</span></label>
                  <span class="request-date ml-3 justify-content-between"></span>
                  <div class="tooltip-wrapper tooltip-lg">
                    <div class="tooltip-toggle icon-only">
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 18 18">
                        <path d="M0,0H18V18H0Z" fill="none" />
                        <path
                          d="M8.3,5.5H9.7V6.9H8.3Zm0,2.8H9.7v4.2H8.3ZM9,2a7,7,0,1,0,7,7A7,7,0,0,0,9,2ZM9,14.6A5.6,5.6,0,1,1,14.6,9,5.607,5.607,0,0,1,9,14.6Z" />
                      </svg>
                    </div>
                    <div class="tooltip-text">
                      If your file name is: K1 Tax Document_Mary Williams.pdf then the Name Position is End of file name
                    </div>
                  </div>
                </div>
              </td>
              <td>
                <span class="request-date ml-3 justify-content-between"></span>
                <select class="input-field" style="height: 40px;" id="NameSeparatorId" name="NameSeparatorId"
                  (change)="onNameSeparatorChange($event)" [(ngModel)]="NameSeparatorId" (blur)="onNameSeparator()">
                  <option *ngFor="let item of NameSeparators" [value]="item.id" [selected]="item.id == NameSeparatorId">
                    {{ item.name }}
                  </option>
                </select>
                <div *ngIf="nameSeparatorError" class="validation-msg">
                  <span class="request-date ml-3 justify-content-between"></span>
                  <span>Name Seperator is required</span>
                </div>
                <div *ngIf="delimiterSeparatorError" class="validation-msg formvalidate">
                  <span class="request-date ml-3 justify-content-between"></span>
                  <span>Name Seperator should not be same as Delimiter</span>
                </div>
              </td>
            </tr>
            <tr>
              <td>&nbsp;</td>
            </tr>
          </tbody>
        </table>
        <br />
        <div class="modal-footer text-center">
          <button type="button" class="button mr-3" (click)="OnBulkDocumentPopupCancel()"
            data-dismiss="modal"><span>Cancel</span></button>
          <button class="button-outline" (click)="OnBulkDocumentPopupNext()" data-dismiss="modal">Next</button>
        </div>

      </div>

    </div>
    <!-- modal-content -->

  </div>
  <!-- modal-dialog -->
</div>
<!-- modal -->

<div class="modal-wrapper" *ngIf="PublishDocumentsConfirmPopup">
  <div class="modal" style="max-width:700px;">
    <div class="modal-title pb-0">
      <div class="company-wrapper d-flex align-items-center justify-content-between">
        <div style="width:100%">
          <h3>Publish Documents
            <button id="investor_pubdocconpop_x" style="float: right;" class="button icon-only button-clear ml-2"
              (click)="PublishDocumentsConfirmPopup = false">
              <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                <path d="M0 0h24v24H0V0z" fill="none" />
                <path
                  d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z" />
              </svg>
            </button>
          </h3>
        </div>
      </div>
      <div class="modal-content pt-3 align-items-center justify-content-between"
        style="max-width: 800px;max-height: 700px;overflow: auto;">
        <div class="alert mt-3">
          <span class="pr-2">
            <svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 0 24 24" width="18px" fill="#c8202f">
              <path d="M0 0h24v24H0V0z" fill="none" />
              <path
                d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" />
            </svg>
          </span>
          <span> <b>Total Macthed: </b> {{3}}</span><br />
          <span> <b>Total Unmatched: </b>{{1}} </span><br />
          <span> Note: All Unmatched will be exculded in the Publish process.</span>
        </div>
        <br />
        <br />
        <div class="modal-footer text-center mt-5">
          <button id="investor_pubdocconpop_cancel" type="button" class="button mr-3"
            (click)="OnBulkDocumentPopupCancel()"><span>Cancel</span></button>
          <button id="investor_pubdocconpop_next" class="button-outline"
            (click)="OnBulkDocumentPopupNext()">Next</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal modal_outer right_modal fade" id="uploadFile" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel2" *ngIf="uploadFile">
  <div class="modal-dialog" role="document">

    <div class="modal-content ">
      <!-- <input type="hidden" name="email_e" value="admin@filmscafe.in"> -->
      <div class="modal-header">
        <h3>Upload Document</h3>

        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>



      </div>
      <div class="modal-body get_quote_view_modal_body">


        <div class="mt-2">
          <tr>
            <td>
              <div class="m-7 d-flex align-items-center">
                <label>Document Type: <span class="validation-msg">*</span></label>
                <span class="request-date ml-3 justify-content-between"></span>
                <span class="request-date ml-3 justify-content-between"></span>
                <span class="request-date ml-3 justify-content-between"></span>
              </div>
            </td>
            <td>
              <span class="request-date ml-3 justify-content-between"></span>
              <select class="input-field" style="height:40px;" id="investor_uploadfile_doctype" name="DocumentTypeId"
                (change)="onDocumentTypeChange($event)" [(ngModel)]="DocumentTypeId">
                <option *ngFor="let item of DocumentTypes" [value]="item.id == 'null' ? '': item.id"
                  [selected]="item.id == DocumentTypeId">
                  {{ item.name }}
                </option>
              </select>
              <div *ngIf="documentTypeError" class="validation-msg">
                <span class="request-date ml-3 justify-content-between"></span>
                <span>Document Type is required</span>
              </div>
            </td>
          </tr>
        </div>
        <div class="login-form mt-4 mb-4">
          <div id="investor_uploadfile_dragfile" class="dropzone" appDrag (files)="onFileChange($event)">
            <div class="text-wrapper">
              <div class="centered">
                <input id="investor_uploadfile_dragfile" type="file" class="sr-only" name="file" id="file"
                  (change)="onFileChange1($event)" multiple>
                <label for="file">Drag & drop files here or click to select files</label>
              </div>
            </div>
          </div>
          <p class="mt-2 text-center">Please Note: Maximum document size cannot exceed 100 MB and Maximum number of
            documents which can be uploaded at once cannot be more than 10.</p>
          <div *ngFor="let item of DocumentFile; let i = index">
            <div class="row">
              <div class="col">{{item.File.name}}</div>
              <div class="col">
                <span id="investor_uploadfile_removedoc_{{item.Id}}" class="action-icon" (click)="OnRemoveDoc(item.Id)">
                  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
                    <path d="M0 0h24v24H0V0z" fill="none" />
                    <path
                      d="M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z" />
                  </svg>
                </span>
              </div>
            </div>
          </div>
          <div *ngIf="DocumentFile.length > 10">
            The current document count exceed the limit of 10 documents, please ensure that the total document count is
            not more than 10 (Current: {{DocumentFile.length}}).
          </div>
          <div *ngIf="DocSizeBool">
            The following documents exceeds the file size limit of 100MB, please ensure that the document size is not
            beyond 100 MB.
          </div>
          <div class=" modal-footer text-center mt-5">
            <button id="investor_uploadfile_saveandupload" class="button-outline" data-dismiss="modal"
              (click)="onSaveandUploadInvestor()">Save and Upload</button>
          </div>
        </div>


      </div>

    </div>
    <!-- modal-content -->

  </div>
  <!-- modal-dialog -->
</div>
<!-- modal -->

<!--<div class="modal-wrapper" *ngIf="AccountStatementPopup" id="AccountStatementPopup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2" *ngIf="AccountStatementPopup">
    <div class="modal" style="max-width: 1000px;">
      <div class="modal-title pb-4">
        <div class="company-wrapper d-flex align-items-center justify-content-between">
          <div>
            <h3>Account Statement</h3>
          </div>
          <div>
            <button id="investor_accstpop_sendemail" type="button" class="button-outline" (click)="onSendEmail()">Send Email</button>
            <button id="investor_accstpop_x" class="button icon-only button-clear ml-2" (click)="AccountStatementPopup = false">
              <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                <path d="M0 0h24v24H0V0z" fill="#fff" />
                <path
                  d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z" />
              </svg>
            </button>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="modal-content pt-0">
            <div class="table-wrapper mt-4">
              <div></div>
              <table class="documents-table" *ngIf="AccountStatementArray.length > 0">
                <thead>
                  <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Email</th>
                    <th scope="col">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of AccountStatementArray">
                    <td>{{item.Name}}</td>
                    <td>{{item.Email}}</td>
                    <td>
                      <app-account-statement id="investor_accstpop_view_{{item.InvestorId}}" [AccountStatementData]="AccountStatementDataValue"></app-account-statement>
                      <span id="investor_accstpop_view_{{item.InvestorId}}" class="action-icon" (click)="ViewAccountSummary(item)">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                          <path d="M0 0h24v24H0V0z" fill="none" />
                          <path
                            d="M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z" />
                        </svg>
                      </span>

                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="modal-footer text-center mt-2">
          </div>
        </div>
      </div>

    </div>
  </div>-->

<div class="modal modal_outer right_modal fade" id="AccountStatementPopup" data-keyboard="false" data-backdrop="static"
  tabindex="-1" role="dialog" aria-labelledby="myModalLabel2" *ngIf="AccountStatementPopup">
  <div class="modal-dialog" role="document" style="width: auto;">
    <div class="modal-content ">
      <div class="modal-header">
        <div class="modal-title pb-4">
          <div class="company-wrapper d-flex align-items-center justify-content-between">
            <div>
              <h3>Account Statement</h3>
            </div>
            <div>
              <button id="investor_accstpop_sendemail" type="button" class="button-outline" (click)="onSendEmail()">Send
                Email</button>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-body get_quote_view_modal_body">
        <div class="row">
          <div class="col">
            <div class="modal-content pt-0">
              <div class="table-wrapper mt-4">
                <div></div>
                <table class="documents-table" *ngIf="AccountStatementArray.length > 0">
                  <thead>
                    <tr>
                      <th scope="col">Name</th>
                      <th scope="col">Email</th>
                      <th scope="col">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of AccountStatementArray">
                      <td>{{item.Name}}</td>
                      <td>{{item.Email}}</td>
                      <td>
                        <app-account-statement id="investor_accstpop_view_{{item.InvestorId}}"
                          [AccountStatementData]="item"></app-account-statement>
                        <!-- <span id="investor_accstpop_view_{{item.InvestorId}}" class="action-icon" (click)="ViewAccountSummary(item)" data-toggle="modal" data-target="#AccountStatementPopup">
                                <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                                  <path d="M0 0h24v24H0V0z" fill="none" />
                                  <path
                                    d="M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z" />
                                </svg>
                              </span> -->
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="modal-footer text-center mt-2">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-------------------------------------Send Mail popup Show----------------------------------------------->
<div class="modal modal_outer right_modal fade" id="showSendEmail" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel2" *ngIf="showSendEmail">
  <div class="modal-dialog" role="document">
    <div class="modal-content ">
      <div class="modal-header">
        <h3>Send Email</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="showSendEmail = false">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body get_quote_view_modal_body">
        <div class="modal-content pt-0">
          <app-send-email (messageEvent)="receiveMessage()" [InvestorchildMessage]="InvestorparentMessage">
          </app-send-email>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="loader" *ngIf="Loader">
  <div class="loaderimgdiv"><img class="loaderimg" src="../../assets/images/loader.gif"></div>
</div>
